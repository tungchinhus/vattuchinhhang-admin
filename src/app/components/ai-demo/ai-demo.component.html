<div class="ai-demo-container">
  <mat-card class="demo-card">
    <mat-card-header>
      <mat-card-title>ü§ñ Firebase AI Logic Demo</mat-card-title>
      <mat-card-subtitle>Tr·∫£i nghi·ªám c√°c ch·ª©c nƒÉng AI trong h·ªá th·ªëng Dieuxe</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <!-- Function Selection -->
      <div class="function-selection">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Ch·ªçn ch·ª©c nƒÉng AI</mat-label>
          <mat-select [(value)]="selectedFunction" (selectionChange)="onFunctionChange()">
            <mat-option value="analyzeVehicle">Ph√¢n t√≠ch d·ªØ li·ªáu xe</mat-option>
            <mat-option value="optimizeRoute">T·ªëi ∆∞u h√≥a tuy·∫øn ƒë∆∞·ªùng</mat-option>
            <mat-option value="predictDemand">D·ª± ƒëo√°n nhu c·∫ßu</mat-option>
            <mat-option value="analyzeEmployee">Ph√¢n t√≠ch nh√¢n vi√™n</mat-option>
            <mat-option value="generateReport">T·∫°o b√°o c√°o th√¥ng minh</mat-option>
            <mat-option value="getImprovements">ƒê·ªÅ xu·∫•t c·∫£i thi·ªán h·ªá th·ªëng</mat-option>
          </mat-select>
        </mat-form-field>
        
        <p class="function-description">{{ getFunctionDescription() }}</p>
      </div>

      <!-- Input Form -->
      <form [formGroup]="aiForm" (ngSubmit)="callAiFunction()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>D·ªØ li·ªáu ƒë·∫ßu v√†o (JSON)</mat-label>
          <textarea 
            matInput 
            formControlName="inputData" 
            rows="10" 
            placeholder="Nh·∫≠p d·ªØ li·ªáu JSON ƒë·ªÉ AI x·ª≠ l√Ω..."
            class="json-input">
          </textarea>
        </mat-form-field>

        <div class="action-buttons">
          <button 
            mat-raised-button 
            color="primary" 
            type="submit" 
            [disabled]="isLoading || aiForm.invalid"
            class="call-button">
            <mat-spinner *ngIf="isLoading" diameter="20" class="button-spinner"></mat-spinner>
            <span *ngIf="!isLoading">üöÄ G·ªçi AI</span>
            <span *ngIf="isLoading">ƒêang x·ª≠ l√Ω...</span>
          </button>
        </div>
      </form>

      <!-- AI Response -->
      <div *ngIf="aiResponse" class="ai-response">
        <h3>üìä K·∫øt qu·∫£ t·ª´ AI:</h3>
        <div class="response-content">
          <pre>{{ aiResponse | json }}</pre>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="isLoading" class="loading-state">
        <mat-spinner diameter="50"></mat-spinner>
        <p>AI ƒëang x·ª≠ l√Ω d·ªØ li·ªáu c·ªßa b·∫°n...</p>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Information Card -->
  <mat-card class="info-card">
    <mat-card-header>
      <mat-card-title>‚ÑπÔ∏è Th√¥ng tin v·ªÅ Firebase AI Logic</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <ul>
        <li><strong>Ph√¢n t√≠ch d·ªØ li·ªáu xe:</strong> AI s·∫Ω ph√¢n t√≠ch hi·ªáu su·∫•t, b·∫£o tr√¨ v√† ƒë·ªÅ xu·∫•t c·∫£i thi·ªán</li>
        <li><strong>T·ªëi ∆∞u h√≥a tuy·∫øn ƒë∆∞·ªùng:</strong> T√¨m tuy·∫øn ƒë∆∞·ªùng t·ªëi ∆∞u d·ª±a tr√™n giao th√¥ng v√† nhu c·∫ßu</li>
        <li><strong>D·ª± ƒëo√°n nhu c·∫ßu:</strong> D·ª± b√°o s·ªë l∆∞·ª£ng kh√°ch v√† tuy·∫øn ƒë∆∞·ªùng c·∫ßn thi·∫øt</li>
        <li><strong>Ph√¢n t√≠ch nh√¢n vi√™n:</strong> ƒê√°nh gi√° hi·ªáu su·∫•t v√† ƒë·ªÅ xu·∫•t ƒë√†o t·∫°o</li>
        <li><strong>B√°o c√°o th√¥ng minh:</strong> T·ª± ƒë·ªông t·∫°o b√°o c√°o chi ti·∫øt v√† insights</li>
        <li><strong>C·∫£i thi·ªán h·ªá th·ªëng:</strong> ƒê·ªÅ xu·∫•t n√¢ng c·∫•p v√† t·ªëi ∆∞u h√≥a to√†n h·ªá th·ªëng</li>
      </ul>
    </mat-card-content>
  </mat-card>
</div>
